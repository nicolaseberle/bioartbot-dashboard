(function(e){function t(t){for(var r,i,n=t[0],l=t[1],c=t[2],u=0,m=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],r=!0,n=1;n<s.length;n++){var l=s[n];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=s[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=r,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"149a":function(e,t,s){"use strict";s("537a")},1548:function(e,t,s){"use strict";s("809e")},"183a":function(e,t,s){"use strict";s("6662")},"537a":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var r=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s(e.layout,{tag:"component"},[s("router-view")],1)],1)},o=[];const i={on(e,t){document.addEventListener(e,e=>t(e.detail))},dispatch(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove(e,t){document.removeEventListener(e,t)}};var n=i,l={name:"app",computed:{layout(){return this.$route.meta.layout},currentUser(){return this.$store.state.auth.user},showAdminBoard(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("admin")},showPrinterBoard(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("printer")}},methods:{logOut(){this.$store.dispatch("auth/logout"),this.$router.push("/login").catch(e=>{console.log(e)})}},mounted(){n.on("logout",()=>{this.logOut()})},beforeDestroy(){n.remove("logout")}},c=l,d=s("2877"),u=Object(d["a"])(c,a,o,!1,null,null,null),m=u.exports,p=s("8c4f"),g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex items-center justify-center h-screen px-6 bg-gray-200"},[s("div",{staticClass:"w-full max-w-sm p-6 bg-white rounded-md shadow-md"},[e._m(0),e._m(1),s("form",{staticClass:"mt-4",attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[s("label",{staticClass:"block",attrs:{for:"username"}},[s("span",{staticClass:"text-sm text-gray-700"},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"block w-full mt-1 p-2 px-4 border-2 border-gray-100 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{placeholder:"name@example.com",type:"text",name:"username","data-vv-name":"username",autocomplete:"off"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),e.errors.has("username")?s("div",{staticClass:"text-red-500",attrs:{role:"alert"}},[e._v(" Email is required! ")]):e._e()]),s("label",{staticClass:"block mt-3 w-full"},[s("label",{staticClass:"text-sm text-gray-700",attrs:{for:"password"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"block w-full mt-1 p-2 px-4 border-2 border-gray-100 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{type:"password",name:"password",placeholder:"password","data-vv-name":"password",autocomplete:"off"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e.errors.has("password")?s("div",{staticClass:"text-red-500",attrs:{role:"alert"}},[e._v(" Password is required! ")]):e._e()]),s("div",{staticClass:"flex w-full"},[s("router-link",{staticClass:"flex underline text-indigo-500 ml-auto text-xs pt-2 cursor-pointer",attrs:{to:"/reset_password"}},[e._v(" Forgot your password ? ")])],1),s("div",{staticClass:"mt-6"},[s("button",{staticClass:"w-full px-4 py-2 text-sm text-center text-white bg-indigo-600 rounded-md focus:outline-none hover:bg-indigo-500",attrs:{type:"submit"}},[e._v(" Login ")]),s("div",{},[e.message?s("div",{staticClass:"bg-red-200 mt-4 p-6",attrs:{role:"alert"}},[e._v(" "+e._s(e.message)+" ")]):e._e()])])])])])},h=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex items-center justify-center"},[s("img",{staticClass:"w-auto",attrs:{src:"/bab_banner_left_small.png"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex items-center justify-center"},[s("span",{staticClass:"text-xl font-semibold text-gray-700"},[e._v("System Dashboard")])])}];class f{constructor(e,t,s,r,a){this.id=e,this.username=t,this.email=s,this.password=r,this.role=a}resetUser(){this.id="",this.username="",this.email="",this.password="",this.role="Printer"}}var v={name:"Login",data(){return{user:new f("","","","",""),loading:!1,message:""}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){this.loggedIn&&this.$router.push("/dashboard").catch(e=>{console.log(e)})},methods:{handleLogin(){this.loading=!0,this.$validator.validateAll().then(e=>{e?this.user.username&&this.user.password&&this.$store.dispatch("auth/login",this.user).then(()=>{this.$router.push("/dashboard").catch(e=>{console.log(e)})},e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}):this.loading=!1})}}},x=v,w=(s("183a"),Object(d["a"])(x,g,h,!1,null,"4314cd02",null)),b=w.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex items-center justify-center h-screen px-6 bg-gray-200"},[s("div",{staticClass:"w-full max-w-sm p-6 bg-white rounded-md shadow-md"},[s("div",{staticClass:"flex items-center justify-center"},[s("svg",{staticClass:"w-8 h-8 ml-2 text-blue-500",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"}})]),s("span",{staticClass:"text-2xl font-semibold text-gray-700"},[e._v("BioArtBot")])]),s("form",{staticClass:"mt-4",attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleResetPassword.apply(null,arguments)}}},[s("label",{staticClass:"block mt-3"},[s("label",{staticClass:"text-sm text-gray-700",attrs:{for:"password"}},[e._v("New Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password1,expression:"password1"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"block w-full mt-1 p-2 px-4 border-2 border-gray-100 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{type:"password",name:"password",placeholder:"password"},domProps:{value:e.password1},on:{input:function(t){t.target.composing||(e.password1=t.target.value)}}}),e.errors.has("password")?s("div",{staticClass:"text-xs text-red-500",attrs:{role:"alert"}},[e._v(" Password is required! ")]):e._e()]),s("label",{staticClass:"block mt-3"},[s("label",{staticClass:"text-sm text-gray-700",attrs:{for:"password"}},[e._v("Confirmation Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"block w-full mt-1 p-2 px-4 border-2 border-gray-100 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{type:"password",name:"password",placeholder:"password"},domProps:{value:e.password2},on:{input:function(t){t.target.composing||(e.password2=t.target.value)}}}),e.errors.has("password")?s("div",{staticClass:"text-xs text-red-500",attrs:{role:"alert"}},[e._v(" Password is required! ")]):e._e()]),s("div",{staticClass:"mt-6"},[e.message?s("div",{staticClass:"text-xs text-red-500 bg-red-200 p-6",attrs:{role:"alert"}},[e._v(" "+e._s(e.message)+" ")]):e._e()]),e._m(0)])])])},C=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-6"},[s("button",{staticClass:"w-full px-4 py-2 text-sm text-center text-white bg-indigo-600 rounded-md focus:outline-none hover:bg-indigo-500",attrs:{type:"submit"}},[e._v(" Reset Password ")])])}],_={name:"Login",data(){return{user:new f("","","","",""),password1:"",password2:"",oldPassWord:"",email:"",message:""}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){},mounted(){this.$route.query.token&&this.$route.query.email?(this.oldPassWord=this.$route.query.token,this.email=this.$route.query.email):this.$router.push("/login")},methods:{handleResetPassword(){this.loading=!0,this.$validator.validateAll().then(e=>{if(e){if(this.password1&&this.password2)if(this.password1==this.password2){let e=this.password1;this.$store.dispatch("auth/reset_password",this.email,this.oldPassWord,e).then(()=>{this.$router.push("/login").catch(e=>{console.log(e)})},e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()})}else this.message="Both password don't match"}else this.loading=!1})}}},k=_,P=(s("5be7"),Object(d["a"])(k,y,C,!1,null,"36f3a79c",null)),U=P.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex items-center justify-center h-screen px-6 bg-gray-200"},[s("div",{staticClass:"w-full max-w-sm p-6 bg-white rounded-md shadow-md"},[s("div",{staticClass:"flex items-center justify-center"},[s("svg",{staticClass:"w-8 h-8 ml-2 text-blue-500",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"}})]),s("span",{staticClass:"text-2xl font-semibold text-gray-700"},[e._v("BioArtBot")])]),s("p",{staticClass:"text-center py-4"},[e._v(" If you forgot your password, don't worry. We'll send you an invitation to reset it ")]),s("form",{staticClass:"mt-4",attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleSendInvitation.apply(null,arguments)}}},[s("label",{staticClass:"block mt-3"},[s("label",{staticClass:"text-sm text-gray-700",attrs:{for:"password"}},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"block w-full mt-1 p-2 px-4 border-2 border-gray-100 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{type:"email",name:"email",placeholder:"name@example.com"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e.errors.has("password")?s("div",{staticClass:"text-xs text-red-500",attrs:{role:"alert"}},[e._v(" Email is required : ")]):e._e()]),s("div",{staticClass:"flex w-full"},[s("router-link",{staticClass:"flex underline text-indigo-500 ml-auto text-xs pt-2 cursor-pointer",attrs:{to:"/login"}},[e._v(" sign in ? ")])],1),e._m(0)])])])},M=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-6"},[s("button",{staticClass:"w-full px-8 py-2 text-sm text-center text-white bg-indigo-600 rounded-md focus:outline-none hover:bg-indigo-500",attrs:{type:"submit"}},[e._v(" Send me an invitation ")])])}],L={name:"ResetPassword",data(){return{email:"",message:""}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){this.loggedIn&&this.$router.push("/dashboard").catch(e=>{console.log(e)})},methods:{handleSendInvitation(){this.loading=!0,this.$validator.validateAll().then(e=>{e?this.email&&this.$store.dispatch("auth/forgot_password",this.email).then(()=>{this.$router.push("/dashboard").catch(e=>{console.log(e)})},e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}):this.loading=!1})}}},$=L,S=(s("dfb0"),Object(d["a"])($,A,M,!1,null,"7fd11d6b",null)),N=S.exports,j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex flex-col w-full"},[s("main",{staticClass:"h-full overflow-y-auto"},[s("div",{staticClass:"mt-20 px-6 mx-auto grid"},[s("notification-component",{attrs:{notification:e.currentNotification}}),s("breadcrumb-component",{attrs:{breadcrumb:[{id:1,name:"Users"},{id:2,name:"Admins & Printers"}]}}),s("div",{staticClass:"flex flex-row justify-between"},[s("div",{staticClass:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"},[e._v(" Users - "),s("span",{staticClass:"text-lg"},[e._v("Admins & Printers"),s("span",{staticClass:"text-gray-500 ml-2 font-light"},[e._v("("+e._s(e.total)+")")])])]),e.multiSelectUser.length>0&&"Admin"==e.currentUser.role?s("div",{staticClass:"ml-auto flex flex-row mr-2 my-auto"},[s("t-dropdown",{scopedSlots:e._u([{key:"trigger",fn:function(t){var r=t.mousedownHandler,a=t.focusHandler,o=t.blurHandler,i=t.keydownHandler;return s("div",{staticClass:"ml-auto flex flex-row my-auto"},[s("button",{staticClass:"flex my-auto items-center justify-between w-full px-4 py-2 text-sm font-medium leading-5 text-black transition-colors duration-150 bg-gray-200 border border-transparent rounded-lg active:bg-gray-400 hover:bg-gray-400 focus:outline-none",on:{mousedown:r,focus:a,blur:o,keydown:i}},[e._v(" Actions ")])])}},{key:"default",fn:function(t){var r=t.hide;return s("div",{staticClass:"flex flex-col text-left"},[s("button",{staticClass:"px-4 py-3 mr-auto w-full text-left text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100",attrs:{role:"menuitem"},on:{click:function(t){e.changeRoleForAll("Admin"),r()}}},[e._v(" Convert to Admin ")]),s("button",{staticClass:"px-4 py-3 w-full text-left text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100",attrs:{role:"menuitem"},on:{click:function(t){e.changeRoleForAll("Printer"),r()}}},[e._v(" Convert to Printer ")]),s("button",{staticClass:"border-t border-gray-200 px-4 py-3 w-full text-left text-sm leading-5 text-red-500 transition duration-150 ease-in-out hover:bg-red-100 focus:outline-none focus:bg-red-100",attrs:{role:"menuitem"},on:{click:function(t){e.removeAllSelectedUsers(),r()}}},[e._v(" Remove selection ")])])}}],null,!1,1885359053)})],1):e._e(),s("div",{staticClass:"my-auto"},["Admin"==e.currentUser.role?s("button",{staticClass:"flex items-center justify-between w-full px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-indigo-600 border border-transparent rounded-lg hover:bg-indigo-500 focus:outline-none focus:shadow-outline-purple",on:{click:function(t){e.openCreationUserModal=!0}}},[s("span",{staticClass:"mr-2 font-bold",attrs:{"aria-hidden":"true"}},[e._v("+")]),e._v(" Add user ")]):e._e()])]),s("div",{staticClass:"flex flex-row justify-start mb-4 space-x-2"},[s("button",{staticClass:"focus:outline-none active:outline-none",on:{click:function(t){return e.filterSwitchFor("Admin")}}},[s("span",{staticClass:"text-xs px-4 py-3 mx-auto border-2 border-transparent font-semibold leading-tight rounded-lg focus:outline-none active:outline-none",class:{"bg-purple-100 text-purple-700":e.filter.includes("Admin"),"bg-white text-gray-200 hover:border hover:border-purple-500 ":!e.filter.includes("Admin")}},[e._v(" Admin ")])]),s("button",{staticClass:"focus:outline-none active:outline-none",on:{click:function(t){return e.filterSwitchFor("Printer")}}},[s("span",{staticClass:"text-xs px-4 py-3 mx-auto border-2 border-transparent font-semibold leading-tight rounded-lg focus:outline-none active:outline-none",class:{"bg-yellow-100 text-yellow-700":e.filter.includes("Printer"),"bg-white text-gray-200 hover:border hover:border-yellow-300 ":!e.filter.includes("Printer")}},[e._v(" Printer ")])])]),s("div",{staticClass:"w-full overflow-hidden rounded-lg"},[s("div",{staticClass:"w-full overflow-x-auto"},[s("table",{staticClass:"w-full whitespace-no-wrap mb-20"},[e._m(0),s("tbody",{staticClass:"bg-white divide-y dark:divide-gray-700 dark:bg-gray-800"},e._l(e.orderedUsers,(function(t){return s("tr",{key:t.id,staticClass:"text-gray-700 dark:text-gray-400"},[s("td",{staticClass:"px-4 py-3 my-auto text-sm"},[s("div",{staticClass:"flex items-center"},["Admin"==e.currentUser.role?s("input",{directives:[{name:"model",rawName:"v-model",value:e.multiSelectUser,expression:"multiSelectUser"}],staticClass:"w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",attrs:{id:"default-checkbox",type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.multiSelectUser)?e._i(e.multiSelectUser,t)>-1:e.multiSelectUser},on:{change:function(s){var r=e.multiSelectUser,a=s.target,o=!!a.checked;if(Array.isArray(r)){var i=t,n=e._i(r,i);a.checked?n<0&&(e.multiSelectUser=r.concat([i])):n>-1&&(e.multiSelectUser=r.slice(0,n).concat(r.slice(n+1)))}else e.multiSelectUser=o}}}):e._e()])]),s("td",{staticClass:"px-4 py-3"},[s("div",{staticClass:"flex items-center text-sm"},[s("div",{staticClass:"mr-12 flex w-8 h-8 rounded-full border bg-white text-center",style:{"border-color":e.stringToColor(t.email)}},[s("div",{staticClass:"mx-auto my-auto text-md",style:{color:e.stringToColor(t.email)}},[e._v(" "+e._s(t.email[0].toUpperCase())+" ")])]),s("div",[s("p",{staticClass:"font-semibold my-auto"},[e._v(" "+e._s(e._f("moment")(t.created_at,"DD/MM/YYYY"))+" ")])])])]),s("td",{staticClass:"px-4 py-3 w-1/3 text-sm"},[s("p",{staticClass:"font-semibold my-auto"},[e._v(e._s(t.email))])]),s("td",[s("t-dropdown",{scopedSlots:e._u([{key:"trigger",fn:function(r){var a=r.mousedownHandler,o=r.focusHandler,i=r.blurHandler,n=r.keydownHandler;return s("div",{staticClass:"flex border border-gray-200 rounded-md focus:outline-none active:outline-none",class:{"border-0 border-none":"Printer"==e.currentUser.role}},[s("div",{staticClass:"px-4 py-3 text-xs w-24 focus:outline-none active:outline-none"},[s("span",{staticClass:"px-3 py-2 mx-auto font-semibold leading-tight rounded-lg",class:{"text-yellow-700 bg-yellow-100":"Printer"==t.role,"text-purple-700 bg-purple-100":"Admin"==t.role}},[e._v(" "+e._s(t.role)+" ")])]),"Admin"==e.currentUser.role?s("button",{staticClass:"flex items-center justify-center flex-shrink-0 px-3 py-2 text-white rounded-r hover:bg-gray-100",on:{mousedown:a,focus:o,blur:i,keydown:n}},[s("svg",{staticClass:"w-4 h-4 text-gray-500 fill-current",attrs:{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("g",{attrs:{stroke:"none","stroke-width":"1",fill:"currentColor","fill-rule":"none"}},[s("g",{attrs:{id:"icon-shape"}},[s("polygon",{attrs:{id:"Combined-Shape",points:"9.29289322 12.9497475 10 13.6568542 15.6568542 8 14.2426407 6.58578644 10 10.8284271 5.75735931 6.58578644 4.34314575 8"}})])])])]):e._e()])}},{key:"default",fn:function(r){var a=r.hide;return s("div",{staticClass:"flex flex-col"},[s("button",{staticClass:"px-4 py-2 my-1 text-left text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100",attrs:{role:"menuitem"},on:{click:function(s){e.changeRole(t.id,t.email,"Admin"),a()}}},[s("span",{staticClass:"text-xs px-3 py-2 mx-auto font-semibold leading-tight text-purple-700 bg-purple-100 rounded-lg"},[e._v(" Admin ")])]),s("button",{staticClass:"px-4 py-2 mb-1 text-left text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100",attrs:{role:"menuitem"},on:{click:function(s){e.changeRole(t.id,t.email,"Printer"),a()}}},[s("span",{staticClass:"text-xs px-3 py-2 mx-auto font-semibold leading-tight text-yellow-700 bg-yellow-100 rounded-lg"},[e._v(" Printer ")])])])}}],null,!0)})],1),s("td",{staticClass:"px-4 py-3"},[s("div",{staticClass:"flex items-center space-x-4 text-sm"},["Admin"==e.currentUser.role?s("button",{staticClass:"flex items-center justify-between px-2 py-2 text-sm font-medium leading-5 text-indigo-600 rounded-lg focus:outline-none focus:shadow-outline-gray",attrs:{"aria-label":"Send"},on:{click:function(s){return e.sendInvitation(t.email)}}},[s("font-awesome-icon",{attrs:{icon:"paper-plane"}})],1):s("button",{staticClass:"flex items-center justify-between px-2 py-2 text-sm font-medium leading-5 text-gray-200 rounded-lg focus:outline-none focus:shadow-outline-gray",attrs:{"aria-label":"Send"}},[s("font-awesome-icon",{attrs:{icon:"paper-plane"}})],1),"Admin"==e.currentUser.role?s("button",{staticClass:"flex items-center justify-between px-2 py-2 text-sm font-medium leading-5 text-indigo-600 rounded-lg dark:text-gray-400 focus:outline-none focus:shadow-outline-gray",attrs:{"aria-label":"Edit"},on:{click:function(s){return e.editSuperUser(t.id,t.email,t.role)}}},[s("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"}},[s("path",{attrs:{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"}})])]):s("button",{staticClass:"flex items-center justify-between px-2 py-2 text-sm font-medium leading-5 text-gray-200 rounded-lg focus:outline-none focus:shadow-outline-gray",attrs:{"aria-label":"Edit"}},[s("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"}},[s("path",{attrs:{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"}})])]),"Admin"==e.currentUser.role?s("button",{staticClass:"flex items-center justify-between px-2 py-2 text-sm font-medium leading-5 text-indigo-600 rounded-lg dark:text-gray-400 focus:outline-none focus:shadow-outline-gray",attrs:{"aria-label":"Delete"},on:{click:function(s){return e.removeUser(t.id,t.email,t.created_at)}}},[s("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"}})])]):e._e()])])])})),0)])]),s("div",{staticClass:"flex w-full text-right px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase border-t dark:border-gray-700 bg-gray-50 sm:grid-cols-9 dark:text-gray-400 dark:bg-gray-800"},[s("pagination-component",{attrs:{"total-pages":e.totalPages,total:e.total,"per-page":e.perPage,"current-page":e.currentPage,"has-more-pages":e.hasMorePages},on:{pagechanged:e.showMore}})],1)])],1)]),s("modal-creation-user-component",{directives:[{name:"show",rawName:"v-show",value:e.openCreationUserModal,expression:"openCreationUserModal"}],attrs:{open:e.openCreationUserModal},on:{closeModal:e.closeCreationUserModal}}),s("modal-edit-user-component",{directives:[{name:"show",rawName:"v-show",value:e.openEditUserModal,expression:"openEditUserModal"}],attrs:{open:e.openEditUserModal,selectedUser:e.selectedUser},on:{closeModal:e.closeEditUserModal}})],1)},E=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",{staticClass:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b dark:border-gray-700 bg-gray-50 dark:text-gray-400 dark:bg-gray-800"},[s("th",{staticClass:"pl-2 py-3"}),s("th",{staticClass:"pl-24 py-3"},[e._v("Creation date")]),s("th",{staticClass:"px-4 py-3 w-1/3"},[e._v("Email")]),s("th",{staticClass:"px-4 py-3"},[e._v("Role")]),s("th",{staticClass:"px-4 py-3"},[e._v("Actions")])])])}],O=s("bc3a"),T=s.n(O);const q=T.a.create({baseURL:"https://www.bioartbot.org",mode:"cors",withCredentials:!0,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Origin":"https://users.bioartbot.org","Access-Control-Allow-Credentials":!0}});var z=q,B=function(e){return Math.round(new Date(e)/1e3)},I=B;class R{getAllUsers(){return z.get("/user/get",{withCredentials:!0})}createUser(e,t,s,r){return z.post("/user/create",{email:e,password:t,role:s},{withCredentials:!0,headers:{"X-CSRF-TOKEN":r}})}updateRole(e,t,s){return z.post("/user/change_role",{email:e,role:t},{headers:{"X-CSRF-TOKEN":s}})}removeUser(e,t,s){let r=String(I(t));return z.put(`/user/remove/${e}/${r}`,{},{headers:{"X-CSRF-TOKEN":s}})}resetPassword(e,t,s,r){return z.post("/user/reset_password/",{email:e,password:t,new_password:s},{headers:{"X-CSRF-TOKEN":r}})}sendInvitation(e,t){return z.post("/user/send_invitation/",{email:e},{headers:{"X-CSRF-TOKEN":t}})}}var F=new R,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"text-sm font-semibold mb-4 mt-2",attrs:{"aria-label":"Breadcrumb"}},[s("ol",{staticClass:"list-none p-0 inline-flex"},e._l(e.breadcrumb,(function(t){return s("li",{key:t.id,staticClass:"flex items-center"},[s("span",{staticClass:"text-gray-600"},[e._v(e._s(t.name))]),s("svg",{directives:[{name:"show",rawName:"v-show",value:t.id<e.breadcrumb.length,expression:"element.id < breadcrumb.length"}],staticClass:"fill-current w-3 h-3 mx-3 text-blue-600",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[s("path",{attrs:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}})])])})),0)])},H=[],X={name:"breadcrumb-component",props:["breadcrumb"]},V=X,K=Object(d["a"])(V,D,H,!1,null,null,null),W=K.exports,J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:"modal "+(!e.open&&"opacity-0 pointer-events-none")+" z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center"},[s("div",{staticClass:"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay",on:{click:function(t){return e.closeModal()}}}),s("div",{staticClass:"z-50 w-1/2 mx-auto overflow-y-auto bg-white rounded"},[s("div",{staticClass:"absolute top-0 right-0 z-50 flex flex-col items-center mt-4 mr-4 text-sm text-white cursor-pointer modal-close"},[s("svg",{staticClass:"text-white fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"}},[s("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})]),s("span",{staticClass:"text-sm"},[e._v("(Esc)")])]),s("div",{staticClass:"py-4 text-left"},[s("div",{staticClass:"px-6 flex items-center justify-between pb-6 border-b"},[s("p",{staticClass:"text-xl font-bold"},[e._v("Add New Super User")]),s("div",{staticClass:"z-50 cursor-pointer modal-close",on:{click:function(t){return e.closeModal()}}},[s("svg",{staticClass:"text-black fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"}},[s("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})])])]),s("div",{staticClass:"px-6 bg-white rounded-md"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.addNewUser.apply(null,arguments)}}},[s("div",{staticClass:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2"},[s("div",[s("label",{staticClass:"text-gray-700 text-sm",attrs:{for:"emailAddress"}},[e._v("Email")]),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"w-full mt-2 px-2 text-sm py-3 border border-gray-200 bg-gray-50 rounded-md focus:border-blue-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{type:"email",placeholder:"name@example.com","data-vv-name":"email",autocomplete:"off"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),s("div",[s("label",{staticClass:"text-gray-700 text-sm",attrs:{for:"password"}},[e._v("Password")]),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"w-full mt-2 px-2 text-sm py-3 border border-gray-200 bg-gray-50 rounded-md focus:border-blue-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{type:"password",placeholder:"password (6 characters min.)","data-vv-name":"password",autocomplete:"off"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e.errors.has("password")?s("div",{staticClass:"text-red-500",attrs:{role:"alert"}},[e._v(" Password is required! ")]):e._e()]),s("div",[s("label",{staticClass:"text-gray-700 text-sm",attrs:{for:"password"}},[e._v("Role")]),s("div",{staticClass:"flex flex-row mt-4 w-full justify-between"},[s("div",{staticClass:"flex items-center mr-8"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.role,expression:"user.role"}],staticClass:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",attrs:{checked:"",id:"role-radio-1",type:"radio",value:"Printer",name:"role-radio",autocomplete:"off"},domProps:{checked:e._q(e.user.role,"Printer")},on:{change:function(t){return e.$set(e.user,"role","Printer")}}}),s("label",{staticClass:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",attrs:{for:"role-radio-1"}},[e._v("Printer")])]),s("div",{staticClass:"flex items-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.role,expression:"user.role"}],staticClass:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",attrs:{id:"role-radio-2",type:"radio",value:"Admin",name:"role-radio",autocomplete:"off"},domProps:{checked:e._q(e.user.role,"Admin")},on:{change:function(t){return e.$set(e.user,"role","Admin")}}}),s("label",{staticClass:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",attrs:{for:"role-radio-2"}},[e._v("Administrator")])])])])]),s("div",{},[e.message?s("div",{staticClass:"bg-red-200 mt-4 p-6",attrs:{role:"alert"}},[e._v(" "+e._s(e.message)+" ")]):e._e()]),s("div",{staticClass:"flex justify-between pt-12"},[s("button",{staticClass:"p-3 px-6 py-3 mr-2 text-indigo-800 border bg-transparent rounded-lg hover:bg-gray-100 hover:text-indigo-400 focus:outline-none",on:{click:function(t){return t.preventDefault(),e.closeModal()}}},[e._v(" Cancel ")]),s("button",{staticClass:"px-6 py-3 font-medium tracking-wide text-white bg-indigo-600 rounded-md hover:bg-indigo-500 focus:outline-none",attrs:{type:"submit"}},[e._v(" Create user ")])])])])])])])},Y=[],G={props:["open"],data(){return{user:new f("","","","","Printer"),message:""}},computed:{currentUser(){return this.$store.state.auth.user}},methods:{closeModal(e){this.$emit("closeModal",e)},addNewUser(){this.$validator.validateAll().then(e=>{e&&this.user.email&&this.user.password&&this.user.role&&F.createUser(this.user.email,this.user.password,this.user.role,this.currentUser.accessToken).then(()=>{this.user.resetUser(),this.closeModal({message:"Success to create user",type:"success"})},e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.closeModal({message:"Failure to create user",type:"danger"})}).catch(e=>{console.log("error :: ",e.response),this.closeModal({message:"Failure to create user",type:"danger"})})})}}},Q=G,Z=(s("1548"),Object(d["a"])(Q,J,Y,!1,null,null,null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:"modal "+(!e.open&&"opacity-0 pointer-events-none")+" z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center"},[s("div",{staticClass:"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay",on:{click:function(t){return e.closeModal()}}}),s("div",{staticClass:"z-50 w-1/2 mx-auto overflow-y-auto bg-white rounded"},[s("div",{staticClass:"absolute top-0 right-0 z-50 flex flex-col items-center mt-4 mr-4 text-sm text-white cursor-pointer modal-close"},[s("svg",{staticClass:"text-white fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"}},[s("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})]),s("span",{staticClass:"text-sm"},[e._v("(Esc)")])]),s("div",{staticClass:"py-4 text-left"},[s("div",{staticClass:"px-6 flex items-center justify-between pb-6 border-b"},[s("p",{staticClass:"text-xl font-bold"},[e._v("Edit user")]),s("div",{staticClass:"z-50 cursor-pointer modal-close",on:{click:function(t){return e.closeModal()}}},[s("svg",{staticClass:"text-black fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"}},[s("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})])])]),s("div",{staticClass:"px-6 bg-white rounded-md"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.updateUser.apply(null,arguments)}}},[s("div",{staticClass:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2"},[s("div",[s("label",{staticClass:"text-gray-700 text-sm",attrs:{for:"emailAddress"}},[e._v("Email")]),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"w-full mt-2 px-2 text-sm py-3 border border-gray-200 bg-gray-50 rounded-md focus:border-blue-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{type:"email",placeholder:"name@example.com","data-vv-name":"email",autocomplete:"off",disabled:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),s("div",[s("label",{staticClass:"text-gray-700 text-sm",attrs:{for:"password"}},[e._v("New Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"w-full mt-2 px-2 text-sm py-3 border border-gray-200 bg-gray-50 rounded-md focus:border-blue-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{type:"password",placeholder:"password (8 characters min.)","data-vv-name":"password",autocomplete:"off"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}})])]),s("div",{},[e.message?s("div",{staticClass:"bg-red-200 mt-4 p-6",attrs:{role:"alert"}},e._l(e.message,(function(t){return s("p",{key:t},[e._v(" "+e._s(t)+" ")])})),0):e._e()]),s("div",{staticClass:"flex justify-between pt-12"},[s("button",{staticClass:"p-3 px-6 py-3 mr-2 text-indigo-800 border bg-transparent rounded-lg hover:bg-gray-100 hover:text-indigo-400 focus:outline-none",on:{click:function(t){return t.preventDefault(),e.closeModal()}}},[e._v(" Cancel ")]),s("button",{staticClass:"px-6 py-3 font-medium tracking-wide text-white bg-indigo-600 rounded-md hover:bg-indigo-500 focus:outline-none",attrs:{type:"submit"}},[e._v(" Save ")])])])])])])])},se=[],re={props:["open","selectedUser"],data(){return{user:this.selectedUser,newPassword:"",message:""}},computed:{currentUser(){return this.$store.state.auth.user}},methods:{closeModal(e){this.$emit("closeModal",e)},changeRole(e,t){e!==this.currentUser.user&&F.updateRole(e,t,this.currentUser.accessToken).then(()=>{this.closeModal()},e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}).catch(e=>{console.log(e.response)})},updateUser(){this.$validator.validateAll().then(e=>{e&&(this.user.email!=this.currentUser.user?""!==this.newPassword&&this.$store.dispatch("auth/admin_reset_password",{email:this.user.email,newPassword:this.newPassword,token:this.currentUser.accessToken}).then(e=>{console.log(e),this.message=[],e.errors?e["errors"].forEach(e=>{this.message.push(e["title"])}):this.closeModal({message:"Success to change password manually",type:"success"})}).catch(e=>console.log(e)):this.closeModal({message:"To change your password, go in 'Profile'",type:"danger"}))})}}},ae=re,oe=(s("149a"),Object(d["a"])(ae,te,se,!1,null,null,null)),ie=oe.exports,ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex justify-end ml-auto"},[s("ul",{staticClass:"pagination bg-transparent p-2 rounded"},[s("li",{staticClass:"pagination-item"},[s("button",{staticClass:"w-24 rounded-sm border border-gray-200 px-3 py-2 hover:bg-gray-100 text-gray-600 no-underline mx-2 text-sm",class:{"cursor-not-allowed":e.isInFirstPage},attrs:{type:"button",disabled:e.isInFirstPage,"aria-label":"Go to previous page"},on:{click:e.onClickPreviousPage}},[e._v(" Previous ")])]),e._l(e.pages,(function(t){return s("li",{key:t.name,staticClass:"pagination-item"},[e.isPageActive(t.name)?s("span",{staticClass:"rounded-sm border border-blue-100 px-3 py-2 bg-blue-100 no-underline text-blue-500 cursor-not-allowed mx-2"},[e._v(e._s(t.name))]):s("a",{staticClass:"rounded-sm border border-gray-200 px-3 py-2 hover:bg-gray-100 text-gray-600 no-underline mx-2",attrs:{href:"#",role:"button"},on:{click:function(s){return s.preventDefault(),e.onClickPage(t.name)}}},[e._v(e._s(t.name))])])})),s("li",{staticClass:"pagination-item"},[s("button",{staticClass:"w-24 rounded-sm border border-gray-200 px-3 py-2 hover:bg-gray-100 text-gray-600 no-underline mx-2 text-sm",class:{"cursor-not-allowed":e.isInLastPage},attrs:{type:"button",disabled:e.isInLastPage,"aria-label":"Go to next page"},on:{click:e.onClickNextPage}},[e._v(" Next ")])])],2)])},le=[],ce={props:{maxVisibleButtons:{type:Number,required:!1,default:3},totalPages:{type:Number,required:!0},total:{type:Number,required:!0},perPage:{type:Number,required:!0},currentPage:{type:Number,required:!0},hasMorePages:{type:Boolean,required:!0}},computed:{startPage(){return 1===this.currentPage?1:this.currentPage===this.totalPages?this.totalPages-this.maxVisibleButtons+1:this.currentPage-1},endPage(){return Math.min(this.startPage+this.maxVisibleButtons-1,this.totalPages)},pages(){const e=[];for(let t=this.startPage;t<=this.endPage;t+=1)t>0&&e.push({name:t,isDisabled:t===this.currentPage});return e},isInFirstPage(){return 1===this.currentPage},isInLastPage(){return this.currentPage===this.totalPages}},methods:{onClickFirstPage(){this.$emit("pagechanged",1)},onClickPreviousPage(){this.$emit("pagechanged",this.currentPage-1)},onClickPage(e){this.$emit("pagechanged",e)},onClickNextPage(){this.$emit("pagechanged",this.currentPage+1)},onClickLastPage(){this.$emit("pagechanged",this.totalPages)},isPageActive(e){return this.currentPage===e}}},de=ce,ue=(s("c12f"),Object(d["a"])(de,ne,le,!1,null,"05ad4cf4",null)),me=ue.exports,pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fixed right-0 justify-end mr-6 w-64"},[s("t-alert",{attrs:{variant:e.currentNotifcation.type,timeout:1e4,show:e.currentNotifcation.show},on:{hidden:function(t){return e.removeNotification()}}},[e._v(" "+e._s(e.currentNotifcation.message)+" ")])],1)},ge=[],he={name:"notifcation-component",props:["notification"],data(){return{currentNotifcation:{message:"",type:"danger",show:!1}}},watch:{notification(e){this.currentNotifcation={message:e.message,type:e.type,show:!0}}},methods:{removeNotification(){this.currentNotifcation={message:"",type:"danger",show:!1}}}},fe=he,ve=Object(d["a"])(fe,pe,ge,!1,null,null,null),xe=ve.exports,we=s("2ef0"),be=s.n(we),ye=function(e){for(var t=0,s=0;s<e.length;s++)t=e.charCodeAt(s)+((t<<5)-t);for(var r="#",a=0;a<3;a++){var o=t>>8*a&255;r+=("00"+o.toString(16)).substr(-2)}return r},Ce=ye,_e={name:"dasboard-view",data(){return{listUsers:[],multiSelectUser:[],openCreationUserModal:!1,openEditUserModal:!1,selectedUser:new f("","","","",""),currentPage:1,page:1,totalPages:1,perPage:10,total:10,hasMorePages:!0,currentNotification:{},filter:["Admin","Printer"]}},async mounted(){this.currentUser?await this.fetchAllUsers():this.$router.push("/login")},components:{BreadcrumbComponent:W,ModalCreationUserComponent:ee,ModalEditUserComponent:ie,PaginationComponent:me,NotificationComponent:xe},computed:{currentUser(){return this.$store.state.auth.user},orderedUsers:function(){let e=be.a.filter(this.listUsers,({role:e})=>be.a.every([be.a.includes(this.filter,e)]));return be.a.sortBy(e.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage),"created_at")}},watch:{orderedUsers(){let e=be.a.filter(this.listUsers,({role:e})=>be.a.every([be.a.includes(this.filter,e)]));this.total=e.length,this.totalPages=this.total%this.perPage==0?Math.floor(this.total/this.perPage):Math.floor(this.total/this.perPage)+1}},methods:{filterSwitchFor(e){this.filter.includes(e)?this.filter=this.filter.filter(t=>t!==e):this.filter.push(e),this.page=1,this.currentPage=1},closeEditUserModal(e){this.openEditUserModal=!1,this.currentNotification={message:e.message,type:e.type},this.fetchAllUsers()},closeCreationUserModal(e){this.openCreationUserModal=!1,this.currentNotification={message:e.message,type:e.type},this.fetchAllUsers()},async fetchAllUsers(){F.getAllUsers().then(e=>{this.listUsers=e.data.users}).catch(e=>{console.log(e.response)})},sendInvitation(e){this.$dialog.confirm({title:`Are you sure you want to send an email to ${e} to reset their password?`,icon:"info",cancelButtonText:"Cancel",okButtonText:"Send"}).then(t=>{t.isOk&&(this.currentNotification={message:"Invitation sent",type:"success"},F.sendInvitation(e,this.currentUser.accessToken).then(e=>{e.errors?this.currentNotification={message:"Invitation not sent",type:"danger"}:this.currentNotification={message:"Invitation sent",type:"info"}}).catch(e=>{console.log(e.response)}))})},removeUser(e,t,s){this.$dialog.confirm("Remove user?","This action will be definitive","warning").then(r=>{r.isOk&&(t!==this.currentUser.user?F.removeUser(e,s,this.currentUser.accessToken).then(()=>{this.currentNotification={message:"The user has been removed",type:"success"},this.fetchAllUsers()}).catch(e=>{console.log(e.response)}):this.currentNotification={message:"You can't remove yourself",type:"danger"})})},removeAllSelectedUsers(){this.$dialog.confirm("Remove all selected users?","This action will be definitive","danger").then(e=>{e.isOk&&(this.multiSelectUser.forEach(e=>{e.email!==this.currentUser.user&&F.removeUser(e.id,e.created_at,this.currentUser.accessToken).then(()=>{this.fetchAllUsers()}).catch(e=>{console.log(e.response)})}),this.multiSelectUser=[])})},editSuperUser(e,t,s){this.selectedUser.id=e,this.selectedUser.email=t,this.selectedUser.role=s,this.openEditUserModal=!0},changeRole(e,t,s){if(t!==this.currentUser.user){let r=this.listUsers.findIndex(t=>t.id==e);F.updateRole(t,s,this.currentUser.accessToken).then(()=>{this.listUsers[r].role=s}).catch(e=>{console.log(e.response)})}},changeRoleForAll(e){this.$dialog.confirm("Change the role of all selected users?","They will be "+e,"warning").then(t=>{t.isOk&&(this.multiSelectUser.forEach(t=>{this.changeRole(t.id,t.email,e)}),this.multiSelectUser=[])})},showMore(e){this.page=e,this.currentPage=e},stringToColor:Ce}},ke=_e,Pe=Object(d["a"])(ke,j,E,!1,null,null,null),Ue=Pe.exports,Ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex flex-col w-full"},[s("main",{staticClass:"h-full overflow-y-auto"},[s("div",{staticClass:"mt-20 px-6 mx-auto grid"},[s("breadcrumb-component",{attrs:{breadcrumb:[{id:1,name:"Users"},{id:2,name:"Artists"}]}}),e._m(0)],1)])])},Me=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex flex-row justify-between"},[s("div",{staticClass:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"},[e._v(" Users - "),s("span",{staticClass:"text-lg"},[e._v("Artists")])])])}],Le={name:"dasboard-view",data(){return{listUsers:[]}},components:{BreadcrumbComponent:W},async mounted(){this.currentUser?await this.fetchAllUsers():this.$router.push("/login")},computed:{currentUser(){return this.$store.state.auth.user}},methods:{async fetchAllUsers(){}}},$e=Le,Se=Object(d["a"])($e,Ae,Me,!1,null,null,null),Ne=Se.exports,je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex flex-col w-full"},[s("div",{staticClass:"h-full overflow-y-auto"},[s("div",{staticClass:"mt-20 px-6 mx-auto grid"},[s("notification-component",{attrs:{notification:e.currentNotification}}),s("breadcrumb-component",{attrs:{breadcrumb:[{id:1,name:"Profile"}]}}),s("div",{staticClass:"flex flex-col justify-between"},[s("div",{staticClass:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200 w-full"},[e._v(" Profile ")]),s("div",{staticClass:"w-full p-6 mb-6 bg-white rounded-lg border border-gray-200 shadow-md"},[s("h5",{staticClass:"mb-2 text-xl font-bold tracking-tight text-gray-900 dark:text-white"},[e._v(" General information ")]),s("div",{staticClass:"flex flex-row w-full"},[s("div",{staticClass:"mr-12"},[s("label",{staticClass:"text-gray-700 text-sm",attrs:{for:"emailAddress"}},[e._v("Email address")]),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:this.currentUser.user,expression:"this.currentUser.user"}],staticClass:"w-full mt-2 px-2 text-sm py-3 border border-gray-200 bg-gray-50 text-gray-500 rounded-md focus:border-blue-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{type:"email",placeholder:"name@example.com","data-vv-name":"email",autocomplete:"off",disabled:""},domProps:{value:this.currentUser.user},on:{input:function(t){t.target.composing||e.$set(this.currentUser,"user",t.target.value)}}})]),s("div",{staticClass:"flex-col"},[s("label",{staticClass:"text-gray-700 text-sm",attrs:{for:"role"}},[e._v("Role")]),"Admin"==e.currentUser.role?s("div",{staticClass:"mt-2 px-3 py-2 mx-auto font-semibold leading-tight text-green-700 bg-green-100 rounded-lg dark:bg-green-700 dark:text-green-100",attrs:{autocomplete:"off"}},[e._v(" "+e._s(this.currentUser.role)+" ")]):e._e(),"Printer"==e.currentUser.role?s("div",{staticClass:"mt-2 px-3 py-2 mx-auto font-semibold leading-tight text-yellow-700 bg-yellow-100 rounded-lg dark:bg-yellow-700 dark:text-yellow-100",attrs:{autocomplete:"off"}},[e._v(" "+e._s(this.currentUser.role)+" ")]):e._e()])])]),s("div",{staticClass:"w-full p-6 bg-white rounded-lg border border-gray-200 shadow-md"},[s("h5",{staticClass:"mb-2 text-xl font-bold tracking-tight text-gray-900 dark:text-white"},[e._v(" Password information ")]),s("form",{attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleResetPassword.apply(null,arguments)}}},[s("div",{staticClass:"flex flex-row w-full"},[s("div",{staticClass:"mr-6"},[s("label",{staticClass:"text-gray-700 text-sm",attrs:{for:"currentPassword"}},[e._v("Current Password")]),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.currentPassword,expression:"currentPassword"}],staticClass:"w-full mt-2 px-2 text-sm py-3 border border-gray-200 bg-gray-50 rounded-md focus:border-blue-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{type:"password",placeholder:"XXXXXX","data-vv-name":"currentPassword",name:"currentPassword",autocomplete:"off"},domProps:{value:e.currentPassword},on:{input:function(t){t.target.composing||(e.currentPassword=t.target.value)}}}),e.errors.has("currentPassword")?s("div",{staticClass:"text-red-500",attrs:{role:"alert"}},[e._v(" Current password is required! ")]):e._e()]),s("div",{staticClass:"ml-6"},[s("label",{staticClass:"text-gray-700 text-sm",attrs:{for:"newPassword"}},[e._v("New Password")]),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"w-full mt-2 px-2 text-sm py-3 border border-gray-200 bg-gray-50 rounded-md focus:border-blue-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{type:"password",placeholder:"XXXXXX","data-vv-name":"newPassword",name:"newPassword",autocomplete:"off"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}}),e.errors.has("newPassword")?s("div",{staticClass:"text-red-500",attrs:{role:"alert"}},[e._v(" New password is required! ")]):e._e()])]),e._m(0),s("div",{staticClass:"w-full my-2 justify-end text-right"},[s("div",{staticClass:"flex-grow"},[e.message?s("div",{staticClass:"bg-red-200 mt-4 p-6",attrs:{role:"alert"}},[e._v(" "+e._s(e.message)+" ")]):e._e()]),s("button",{staticClass:"px-6 py-2 font-medium tracking-wide text-white bg-indigo-600 rounded-md hover:bg-indigo-500 focus:outline-none",attrs:{type:"submit"}},[e._v(" Save ")])])])])])],1)])])},Ee=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-4"},[s("p",{staticClass:"font-bold text-xs"},[e._v("Password requirements:")]),s("p",{staticClass:"text-gray-500 text-xs"},[e._v(" at least 8 characters (and up to 30 characters) ")])])}],Oe={name:"profile-view",data(){return{currentPassword:"",newPassword:"",message:"",currentNotification:{}}},components:{BreadcrumbComponent:W,NotificationComponent:xe},computed:{currentUser(){return this.$store.state.auth.user}},mounted(){this.currentUser||this.$router.push("/login")},methods:{handleResetPassword(){this.$validator.validateAll().then(e=>{e&&this.currentPassword&&this.newPassword&&this.$store.dispatch("auth/reset_password",{email:this.currentUser.user,oldPassword:this.currentPassword,newPassword:this.newPassword,token:this.currentUser.accessToken}).then(e=>{void 0!=e?(e.errors&&e.errors.length>0&&(this.currentNotification={message:"An error occurs: "+JSON.stringify(e.errors),type:"danger"}),e.success&&1==e.success&&(this.currentNotification={message:"The password has been successfully changed",type:"success"})):this.currentNotification={message:"An error occurs: your current password is wrong",type:"danger"}}).catch(e=>console.log(e))}).catch(e=>{console.log(e.response)})}}},Te=Oe,qe=Object(d["a"])(Te,je,Ee,!1,null,null,null),ze=qe.exports,Be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex flex-col w-full"},[s("main",{staticClass:"h-full overflow-y-auto"},[s("div",{staticClass:"mt-20 px-6 mx-auto grid"},[s("notification-component",{attrs:{notification:e.currentNotification}}),s("breadcrumb-component",{attrs:{breadcrumb:[{id:1,name:"Locations"}]}}),s("div",{staticClass:"flex flex-row justify-between"},[s("div",{staticClass:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"},[e._v(" Locations - "),s("span",{staticClass:"text-lg"},[e._v("for Labware and Strains"),s("span",{staticClass:"text-gray-500 ml-2 font-light"},[e._v("("+e._s(e.total)+")")])])]),e.multiSelectLocation.length>0&&"Admin"==e.currentUser.role?s("div",{staticClass:"ml-auto flex flex-row mr-2 my-auto"},[s("t-dropdown",{scopedSlots:e._u([{key:"trigger",fn:function(t){var r=t.mousedownHandler,a=t.focusHandler,o=t.blurHandler,i=t.keydownHandler;return s("div",{staticClass:"ml-auto flex flex-row my-auto"},[s("button",{staticClass:"flex my-auto items-center justify-between w-full px-4 py-2 text-sm font-medium leading-5 text-black transition-colors duration-150 bg-gray-200 border border-transparent rounded-lg active:bg-gray-400 hover:bg-gray-400 focus:outline-none",on:{mousedown:r,focus:a,blur:o,keydown:i}},[e._v(" Actions ")])])}},{key:"default",fn:function(t){var r=t.hide;return s("div",{staticClass:"flex flex-col text-left"},[s("button",{staticClass:"border-t border-gray-200 px-4 py-3 w-full text-left text-sm leading-5 text-red-500 transition duration-150 ease-in-out hover:bg-red-100 focus:outline-none focus:bg-red-100",attrs:{role:"menuitem"},on:{click:function(t){e.removeAllSelectedLocations(),r()}}},[e._v(" Delete selected ")])])}}],null,!1,735275434)})],1):e._e(),s("div",{staticClass:"my-auto"},["Admin"==e.currentUser.role?s("button",{staticClass:"flex items-center justify-between w-full px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-indigo-600 border border-transparent rounded-lg hover:bg-indigo-500 focus:outline-none focus:shadow-outline-purple",on:{click:function(t){e.openCreationLocationModal=!0}}},[s("span",{staticClass:"mr-2 font-bold",attrs:{"aria-hidden":"true"}},[e._v("+")]),e._v(" Add location ")]):e._e()])]),s("div",{staticClass:"w-full overflow-hidden rounded-lg"},[s("div",{staticClass:"w-full overflow-x-auto"},[s("table",{staticClass:"w-full whitespace-no-wrap mb-20"},[e._m(0),s("tbody",{staticClass:"bg-white divide-y dark:divide-gray-700 dark:bg-gray-800"},e._l(e.orderedLocations,(function(t){return s("tr",{key:t.name,staticClass:"text-gray-700 dark:text-gray-400"},[s("td",{staticClass:"px-4 py-3 my-auto text-sm"},[s("div",{staticClass:"flex items-center"},["Admin"==e.currentUser.role?s("input",{directives:[{name:"model",rawName:"v-model",value:e.multiSelectLocation,expression:"multiSelectLocation"}],staticClass:"w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",attrs:{id:"default-checkbox",type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.multiSelectLocation)?e._i(e.multiSelectLocation,t)>-1:e.multiSelectLocation},on:{change:function(s){var r=e.multiSelectLocation,a=s.target,o=!!a.checked;if(Array.isArray(r)){var i=t,n=e._i(r,i);a.checked?n<0&&(e.multiSelectLocation=r.concat([i])):n>-1&&(e.multiSelectLocation=r.slice(0,n).concat(r.slice(n+1)))}else e.multiSelectLocation=o}}}):e._e()])]),s("td",{staticClass:"px-4 py-3"},[s("div",{staticClass:"flex items-center text-sm"},[s("div",{staticClass:"mr-12 flex w-8 h-8 rounded-full border bg-white text-center",style:{"border-color":e.stringToColor(t.name)}},[s("div",{staticClass:"mx-auto my-auto text-md",style:{color:e.stringToColor(t.name)}},[e._v(" "+e._s(t.name[0].toUpperCase())+" ")])]),s("div",[s("p",{staticClass:"font-semibold my-auto"},[e._v(" "+e._s(t.name)+" ")])])])]),s("td",{staticClass:"px-4 py-3 w-1/3 text-xs max-w-md whitespace-pre-wrap overflow-hidden overflow-wrap"},[s("p",{staticClass:"my-auto"},[e._v(e._s(t.description))])]),s("td",{staticClass:"px-4 py-3"},[s("div",{staticClass:"flex items-center space-x-4 text-sm"},["Admin"==e.currentUser.role?s("button",{staticClass:"flex items-center justify-between px-2 py-2 text-sm font-medium leading-5 text-indigo-600 rounded-lg dark:text-gray-400 focus:outline-none focus:shadow-outline-gray",attrs:{"aria-label":"Delete"},on:{click:function(s){return e.removeLocation(t.name)}}},[s("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"}})])]):e._e()])])])})),0)])]),s("div",{staticClass:"flex w-full text-right px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase border-t dark:border-gray-700 bg-gray-50 sm:grid-cols-9 dark:text-gray-400 dark:bg-gray-800"},[s("pagination-component",{attrs:{"total-pages":e.totalPages,total:e.total,"per-page":e.perPage,"current-page":e.currentPage,"has-more-pages":e.hasMorePages},on:{pagechanged:e.showMore}})],1)])],1)]),s("modal-creation-location-component",{directives:[{name:"show",rawName:"v-show",value:e.openCreationLocationModal,expression:"openCreationLocationModal"}],attrs:{open:e.openCreationLocationModal},on:{closeModal:e.closeCreationLocationModal}})],1)},Ie=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",{staticClass:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b dark:border-gray-700 bg-gray-50 dark:text-gray-400 dark:bg-gray-800"},[s("th",{staticClass:"pl-2 py-3"}),s("th",{staticClass:"pl-24 py-3"},[e._v("Name")]),s("th",{staticClass:"px-4 py-3 w-1/3"},[e._v("Description")]),s("th",{staticClass:"px-4 py-3"},[e._v("Actions")])])])}];class Re{constructor(e,t){this.name=e,this.description=t}resetLocation(){this.name="",this.description=""}}class Fe{getAllLocations(){return z.get("/locations",{withCredentials:!0})}createLocation(e,t,s){return z.post("/locations/add",{name:e,description:t},{withCredentials:!0,headers:{"X-CSRF-TOKEN":s}})}removeLocation(e,t){return z.put("/locations/delete",{name:e},{headers:{"X-CSRF-TOKEN":t}})}}var De=new Fe,He=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:"modal "+(!e.open&&"opacity-0 pointer-events-none")+" z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center"},[s("div",{staticClass:"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay",on:{click:function(t){return e.closeModal()}}}),s("div",{staticClass:"z-50 w-1/2 mx-auto overflow-y-auto bg-white rounded"},[s("div",{staticClass:"absolute top-0 right-0 z-50 flex flex-col items-center mt-4 mr-4 text-sm text-white cursor-pointer modal-close"},[s("svg",{staticClass:"text-white fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"}},[s("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})]),s("span",{staticClass:"text-sm"},[e._v("(Esc)")])]),s("div",{staticClass:"py-4 text-left"},[s("div",{staticClass:"px-6 flex items-center justify-between pb-6 border-b"},[s("p",{staticClass:"text-xl font-bold"},[e._v("Add New Location")]),s("div",{staticClass:"z-50 cursor-pointer modal-close",on:{click:function(t){return e.closeModal()}}},[s("svg",{staticClass:"text-black fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"}},[s("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})])])]),s("div",{staticClass:"px-6 bg-white rounded-md"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.addNewLocation.apply(null,arguments)}}},[s("div",{staticClass:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2"},[s("div",[s("label",{staticClass:"text-gray-700 text-sm",attrs:{for:"name"}},[e._v("Name")]),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.location.name,expression:"location.name"}],staticClass:"w-full mt-2 px-2 text-sm py-3 border border-gray-200 bg-gray-50 rounded-md focus:border-blue-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{type:"text",placeholder:"Community Lab","data-vv-name":"name",autocomplete:"off"},domProps:{value:e.location.name},on:{input:function(t){t.target.composing||e.$set(e.location,"name",t.target.value)}}})]),s("div",[s("label",{staticClass:"text-gray-700 text-sm",attrs:{for:"description"}},[e._v("Description")]),s("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.location.description,expression:"location.description"}],staticClass:"w-full mt-2 px-2 text-sm py-3 border border-gray-200 bg-gray-50 rounded-md focus:border-blue-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500",attrs:{placeholder:"In Oakland, Contact Tim","data-vv-name":"description",autocomplete:"off"},domProps:{value:e.location.description},on:{input:function(t){t.target.composing||e.$set(e.location,"description",t.target.value)}}}),e._v(" "),e.errors.has("description")?s("div",{staticClass:"text-red-500",attrs:{role:"alert"}},[e._v(" Description is required ")]):e._e()])]),s("div",{},[e.message?s("div",{staticClass:"bg-red-200 mt-4 p-6",attrs:{role:"alert"}},[e._v(" "+e._s(e.message)+" ")]):e._e()]),s("div",{staticClass:"flex justify-between pt-12"},[s("button",{staticClass:"p-3 px-6 py-3 mr-2 text-indigo-800 border bg-transparent rounded-lg hover:bg-gray-100 hover:text-indigo-400 focus:outline-none",on:{click:function(t){return t.preventDefault(),e.closeModal()}}},[e._v(" Cancel ")]),s("button",{staticClass:"px-6 py-3 font-medium tracking-wide text-white bg-indigo-600 rounded-md hover:bg-indigo-500 focus:outline-none",attrs:{type:"submit"}},[e._v(" Create location ")])])])])])])])},Xe=[],Ve={props:["open"],data(){return{location:new Re("",""),message:""}},computed:{currentUser(){return this.$store.state.auth.user}},methods:{closeModal(e){this.$emit("closeModal",e)},addNewLocation(){this.$validator.validateAll().then(e=>{e&&this.location.name&&this.location.description&&De.createLocation(this.location.name,this.location.description,this.currentUser.accessToken).then(()=>{this.location.resetLocation(),this.closeModal({message:"Successfully created location",type:"success"})},e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.closeModal({message:"Failed to create location",type:"danger"})}).catch(e=>{console.log("error :: ",e.response),this.closeModal({message:"Failed to create location",type:"danger"})})})}}},Ke=Ve,We=(s("ec54"),Object(d["a"])(Ke,He,Xe,!1,null,null,null)),Je=We.exports,Ye={name:"dasboard-view",data(){return{listLocations:[],multiSelectLocation:[],openCreationLocationModal:!1,selectedLocation:new Re("",""),currentPage:1,page:1,totalPages:1,perPage:10,total:10,hasMorePages:!0,currentNotification:{}}},async mounted(){this.currentUser?await this.fetchAllLocations():this.$router.push("/login")},components:{BreadcrumbComponent:W,ModalCreationLocationComponent:Je,PaginationComponent:me,NotificationComponent:xe},computed:{currentUser(){return this.$store.state.auth.user},orderedLocations:function(){return be.a.sortBy(be.a.slice(this.listLocations,(this.currentPage-1)*this.perPage,this.currentPage*this.perPage),"name")}},watch:{orderedLocations(){this.total=this.listLocations.length,this.totalPages=this.total%this.perPage==0?Math.floor(this.total/this.perPage):Math.floor(this.total/this.perPage)+1}},methods:{closeCreationLocationModal(e){this.openCreationLocationModal=!1,this.currentNotification={message:e.message,type:e.type},this.fetchAllLocations()},async fetchAllLocations(){De.getAllLocations().then(e=>{this.listLocations=JSON.parse(e.data.data)}).catch(e=>{console.log(e.response)})},removeLocation(e){this.$dialog.confirm("Delete location?","This action is permanent","warning").then(t=>{t.isOk&&De.removeLocation(e,this.currentUser.accessToken).then(()=>{this.currentNotification={message:"The location has been deleted",type:"success"},this.fetchAllLocations()}).catch(e=>{console.log(e.response)})})},removeAllSelectedLocations(){this.$dialog.confirm("Delete all selected locations?","This action is permanent","danger").then(e=>{e.isOk&&(this.multiSelectLocation.forEach(e=>{De.removeLocation(e.name,this.currentUser.accessToken).then(()=>{this.fetchAllLocations()}).catch(e=>{console.log(e.response)})}),this.multiSelectLocation=[])})},showMore(e){this.page=e,this.currentPage=e},stringToColor:Ce}},Ge=Ye,Qe=Object(d["a"])(Ge,Be,Ie,!1,null,null,null),Ze=Qe.exports;r["default"].use(p["a"]);const et=new p["a"]({mode:"history",routes:[{path:"/dashboard",name:"Dashboard",meta:{layout:"dashboard-layout"},component:Ue},{path:"/dashboard_artist",name:"DashboardArtist",meta:{layout:"dashboard-layout"},component:Ne},{path:"/",meta:{layout:"dashboard-layout"},component:Ue},{path:"/login",name:"Login",meta:{layout:"empty-layout"},component:b},{path:"/forgot_password",name:"ForgotPassword",meta:{layout:"empty-layout"},component:U},{path:"/reset_password",name:"ResetPassword",meta:{layout:"empty-layout"},component:N},{path:"/logout",name:"Logout",meta:{layout:"empty-layout"}},{path:"/profile",name:"Profile",meta:{layout:"dashboard-layout"},component:ze},{path:"/locations",name:"Locations",meta:{layout:"dashboard-layout"},component:Ze}]});var tt=s("2f62");function st(e){let t=e+"=",s=decodeURIComponent(document.cookie),r=s.split(";");for(let a=0;a<r.length;a++){let e=r[a];while(" "==e.charAt(0))e=e.substring(1);if(0==e.indexOf(t))return e.substring(t.length,e.length)}return""}class rt{login({username:e,password:t}){return z.post("/user/login",{username:e,password:t}).then(e=>{let t="csrf_access_token",s=st(t);return{...e.data,accessToken:s}})}logout(){}admin_reset_password({email:e,newPassword:t,token:s}){try{return z.post("/user/admin_reset_password/",{email:e,new_password:t},{headers:{"X-CSRF-TOKEN":s}}).then(e=>e.data,e=>e.response.data).catch((function(e){return e.response.data}))}catch(r){console.log("catch error :: ",r)}}reset_password({email:e,oldPassword:t,newPassword:s,token:r}){try{return z.post("/user/reset_password/",{email:e,password:t,new_password:s},{headers:{"X-CSRF-TOKEN":r}}).then(e=>e.data,e=>e.response.data).catch((function(e){return e.response.data}))}catch(a){console.log("catch error :: ",a)}}}var at=new rt;const ot=JSON.parse(localStorage.getItem("user")),it=ot?{status:{loggedIn:!0},user:ot}:{status:{loggedIn:!1},user:null},nt={namespaced:!0,state:it,actions:{login({commit:e},t){return at.login(t).then(t=>(e("loginSuccess",t),Promise.resolve(t)),t=>(e("loginFailure"),Promise.reject(t)))},logout({commit:e}){at.logout(),e("logout")},async reset_password({commit:e},t,s,r,a){return await at.reset_password(t,s,r,a).then(t=>(e("resetPasswordSuccess"),Promise.resolve(t)),t=>(console.log("resetPasswordFailure with ::",t),e("resetPasswordFailure"),Promise.reject(t))).catch(e=>{console.log("catch ::",e)})},async admin_reset_password({commit:e},t,s,r){return await at.admin_reset_password(t,s,r).then(t=>(e("resetPasswordSuccess"),Promise.resolve(t)),t=>(e("resetPasswordFailure"),Promise.reject(t))).catch(e=>{console.log("catch ::",e)})},forgot_password({commit:e},t){return at.forgot_password(t).then(t=>(e("invitationToResetPasswordSuccess"),Promise.resolve(t.data)),t=>(e("invitationToResetPasswordFailure"),Promise.reject(t)))},register({commit:e},t){return at.register(t).then(t=>(e("registerSuccess"),Promise.resolve(t.data)),t=>(e("registerFailure"),Promise.reject(t)))},refreshToken({commit:e},t){e("refreshToken",t)}},mutations:{loginSuccess(e,t){e.status.loggedIn=!0,e.user=t},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},resetPasswordSuccess(e){e.status.loggedIn=!1},resetPasswordFailure(e){e.status.loggedIn=!1},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1},invitationToResetPasswordSuccess(e){e.status.loggedIn=!1},invitationToResetPasswordFailure(e){e.status.loggedIn=!1},refreshToken(e,t){e.status.loggedIn=!0,e.user={...e.user,accessToken:t}}}};var lt=s("0e44");r["default"].use(tt["a"]);var ct=new tt["a"].Store({plugins:[Object(lt["a"])()],modules:{auth:nt}}),dt=(s("a766"),s("ea22"),s("2a13")),ut=s.n(dt),mt=s("5cfa"),pt=s.n(mt),gt=s("3253"),ht=s.n(gt),ft=s("00b0"),vt=s.n(ft);const xt={"t-dialog":{component:pt.a,props:{fixedClasses:{overlay:"overflow-auto scrolling-touch left-0 top-0 bottom-0 right-0 w-full h-full fixed",wrapper:"relative mx-auto",modal:"overflow-visible relative ",close:"flex items-center justify-center",dialog:"overflow-visible relative",iconWrapper:"bg-red-100 flex flex-shrink-0 h-12 items-center justify-center rounded-full w-12 mx-auto",icon:"w-6 h-6 text-red-500",title:"text-lg font-semibold text-center my-4",textWrapper:"text-center w-full mb-2",cancelButton:"block px-4 py-2 transition duration-100 ease-in-out bg-white border border-gray-300 rounded shadow-sm hover:bg-gray-100 focus:border-gray-100 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed w-full max-w-xs",okButton:"block px-4 py-2 text-white transition duration-100 ease-in-out bg-indigo-600 border border-transparent rounded shadow-sm hover:bg-blue-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed w-full max-w-xs"}}},"t-dropdown":{component:ht.a,props:{defaultClasses:{button:"block px-4 py-2 text-white transition duration-100 ease-in-out bg-blue-500 border border-transparent rounded shadow-sm hover:bg-blue-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed",wrapper:"inline-flex flex-col",dropdownWrapper:"relative z-50",dropdown:"origin-top-left absolute left-0 rounded shadow bg-white mt-1",enterClass:"opacity-0 scale-95",enterActiveClass:"transition transform ease-out duration-100",enterToClass:"opacity-100 scale-100",leaveClass:"opacity-100 scale-100",leaveActiveClass:"transition transform ease-in duration-75",leaveToClass:"opacity-0 scale-95"}}},"t-alert":{component:vt.a,props:{fixedClasses:{wrapper:"absolute transition duration-500 ease-in-out delay-500 flex items-center p-4 border-l-4  rounded shadow-sm",body:"flex w-full",close:"absolute relative flex items-center justify-center ml-4 flex-shrink-0 w-6 h-6 transition duration-100 ease-in-out rounded focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-opacity-50",closeIcon:"fill-current h-4 w-4"},classes:{wrapper:"bg-blue-50 border-blue-500",body:"text-blue-700",close:"text-blue-500 hover:bg-blue-200"},variants:{danger:{wrapper:"absolute top-0 right-0  bg-red-100 border-red-600",body:"text-red-800",close:"text-red-500 hover:bg-red-200"},success:{wrapper:"absolute top-0 right-0  bg-green-100 border-green-600",body:"text-green-800",close:"text-green-500 hover:bg-green-200"}}}}};r["default"].use(ut.a,xt);var wt=s("7bb1"),bt=s("2ead"),yt=s.n(bt),Ct=s("ecee"),_t=s("ad3d"),kt=s("c074"),Pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"flex h-screen bg-gray-50 relative"},[s("div",{staticClass:"z-20 hidden w-64 overflow-y-auto bg-white dark:bg-gray-800 md:block flex-shrink-0"},[s("sidebar-component")],1),s("header-component"),e._t("default")],2)])},Ut=[],At=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"py-4 text-gray-500"},[s("router-link",{staticClass:"ml-6 text-lg font-bold text-gray-800 dark:text-gray-200",attrs:{to:"/"}},[s("div",{staticClass:"-mt-5 ml-6"},[e._v("BioArtBot System Dashboard")])]),s("ul",{staticClass:"mt-20"},[s("router-link",{staticClass:"inline-flex relative px-6 py-3 items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 hover:bg-gray-100",class:["Dashboard"===e.$route.name||"DashboardArtist"===e.$route.name?e.activeClass:e.inactiveClass],attrs:{to:"/dashboard"}},[s("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"none"}},[s("path",{attrs:{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}})]),s("span",{staticClass:"ml-4"},[e._v("Users")])])],1),s("router-link",{staticClass:"inline-flex pl-12 my-auto py-3 text-sm hover:bg-gray-100 transition-colors duration-150 hover:text-gray-800 items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200",class:["Dashboard"===e.$route.name?e.activeClass:e.inactiveClass],attrs:{to:"/dashboard"}},[s("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"none"}}),s("span",{},[e._v("Admin & Printers")])]),s("router-link",{staticClass:"inline-flex relative px-6 py-3 mt-4 items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 hover:bg-gray-100",class:["Profile"===e.$route.name?e.activeClass:e.inactiveClass],attrs:{to:"/profile"}},[s("svg",{staticClass:"h-5 w-5 mr-1",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}}),s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}})]),s("span",{staticClass:"mx-4"},[e._v("Profile")])]),s("router-link",{staticClass:"inline-flex relative px-6 py-3 mt-4 items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 hover:bg-gray-100",class:["Locations"===e.$route.name?e.activeClass:e.inactiveClass],attrs:{to:"/locations"}},[s("svg",{staticClass:"h-5 w-5 mr-1",attrs:{viewBox:"0 0 100.353 100.352",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor","stroke-width":"3"}},[s("g",[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M58.23,69.992l14.993-24.108c0.049-0.078,0.09-0.16,0.122-0.245c2.589-4.222,3.956-9.045,3.956-13.969   c0-14.772-12.018-26.79-26.79-26.79S23.72,16.898,23.72,31.67c0,4.925,1.369,9.75,3.96,13.975c0.03,0.074,0.065,0.146,0.107,0.216   l14.455,24.191c-11.221,1.586-18.6,6.2-18.6,11.797c0,6.935,11.785,12.366,26.829,12.366S77.3,88.783,77.3,81.849   C77.301,76.226,69.578,71.509,58.23,69.992z M30.373,44.294c-2.39-3.804-3.653-8.169-3.653-12.624   c0-13.118,10.672-23.79,23.791-23.79c13.118,0,23.79,10.672,23.79,23.79c0,4.457-1.263,8.822-3.652,12.624   c-0.05,0.08-0.091,0.163-0.124,0.249L54.685,70.01c-0.238,0.365-0.285,0.448-0.576,0.926l-4,6.432L30.507,44.564   C30.472,44.471,30.427,44.38,30.373,44.294z M50.472,91.215c-14.043,0-23.829-4.937-23.829-9.366c0-4.02,7.37-7.808,17.283-8.981   l4.87,8.151c0.269,0.449,0.751,0.726,1.274,0.73c0.004,0,0.009,0,0.013,0c0.518,0,1-0.268,1.274-0.708l5.12-8.232   C66.548,73.9,74.3,77.784,74.3,81.849C74.301,86.279,64.515,91.215,50.472,91.215z"}}),s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M60.213,31.67c0-5.371-4.37-9.741-9.741-9.741s-9.741,4.37-9.741,9.741s4.37,9.741,9.741,9.741   C55.843,41.411,60.213,37.041,60.213,31.67z M43.731,31.67c0-3.717,3.024-6.741,6.741-6.741s6.741,3.024,6.741,6.741   s-3.023,6.741-6.741,6.741S43.731,35.387,43.731,31.67z"}})])]),s("span",{staticClass:"mx-4"},[e._v("Locations")])]),s("div",{staticClass:"inline-flex relative px-6 py-3 items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 hover:bg-gray-100 cursor-pointer",class:["Logout"===e.$route.name?e.activeClass:e.inactiveClass],attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.logOut.apply(null,arguments)}}},[s("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}})]),s("span",{staticClass:"ml-4"},[e._v("Log out")])])],1)},Mt=[],Lt={name:"sidebar-component",data(){return{isPagesMenuOpen:!1,inactiveClass:"",activeClass:""}},methods:{togglePagesMenu(){this.isPagesMenuOpen=!this.isPagesMenuOpen},logOut(){this.$store.dispatch("auth/logout"),this.$router.push("/login").catch(e=>{console.log(e)})}}},$t=Lt,St=Object(d["a"])($t,At,Mt,!1,null,null,null),Nt=St.exports,jt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fixed w-full z-10 py-4 bg-white shadow-md dark:bg-gray-800",class:{"bg-purple-50":"Admin"==e.currentUser.role,"bg-yellow-50":"Printer"==e.currentUser.role}},[s("div",{staticClass:"flex items-center justify-between h-full px-6 mx-auto",class:{"text-purple-600":"Admin"==e.currentUser.role,"text-yellow-700":"Printer"==e.currentUser.role}},[s("div",{staticClass:"flex justify-left flex-1 ml-64"},["Admin"==e.currentUser.role?s("span",{staticClass:"font-bold text-xl"},[e._v("Administrator ")]):e._e(),"Printer"==e.currentUser.role?s("span",{staticClass:"font-bold text-xl"},[e._v("Printer ")]):e._e()]),s("ul",{staticClass:"flex items-center flex-shrink-0 space-x-6"},[s("li",{staticClass:"relative"},[s("button",{staticClass:"align-middle rounded-full focus:shadow-outline-purple focus:outline-none",attrs:{"aria-label":"Account","aria-haspopup":"true"}},[s("div",{staticClass:"flex w-10 h-10 rounded-full bg-purple-700 text-center",style:{"background-color":e.stringToColor(e.currentUser.user)}},[s("div",{staticClass:"mx-auto my-auto text-lg text-white"},[e._v(" "+e._s(e.currentUser.user[0].toUpperCase())+" ")])])])])])])])},Et=[],Ot={name:"header-component",computed:{currentUser(){return this.$store.state.auth.user}},methods:{stringToColor:Ce}},Tt=Ot,qt=Object(d["a"])(Tt,jt,Et,!1,null,null,null),zt=qt.exports,Bt={name:"dashboard-layout",components:{SidebarComponent:Nt,HeaderComponent:zt}},It=Bt,Rt=Object(d["a"])(It,Pt,Ut,!1,null,null,null),Ft=Rt.exports,Dt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._t("default")],2)},Ht=[],Xt={},Vt=Object(d["a"])(Xt,Dt,Ht,!1,null,null,null),Kt=Vt.exports;Ct["c"].add(kt["a"],kt["e"],kt["f"],kt["c"],kt["b"],kt["d"]),r["default"].config.productionTip=!1,r["default"].use(wt["a"]),r["default"].use(yt.a),r["default"].component("font-awesome-icon",_t["a"]),r["default"].component("dashboard-layout",Ft),r["default"].component("empty-layout",Kt),r["default"].use(tt["a"]),new r["default"]({router:et,store:ct,render:e=>e(m)}).$mount("#app")},"5be7":function(e,t,s){"use strict";s("cfed")},6662:function(e,t,s){},6815:function(e,t,s){},"809e":function(e,t,s){},a766:function(e,t,s){},be05:function(e,t,s){},c12f:function(e,t,s){"use strict";s("c734")},c734:function(e,t,s){},cfed:function(e,t,s){},dfb0:function(e,t,s){"use strict";s("be05")},ec54:function(e,t,s){"use strict";s("6815")}});
//# sourceMappingURL=app.2e0e6a1e.js.map